{"ast":null,"code":"export function jsonToFlow(rootObj) {\n  let nodes = [];\n  let edges = [];\n  let counter = 0;\n  function visit(value, path = '$', depth = 0, label = null, parent = null) {\n    // Sanitize ID so React Flow can use it safely\n    const cleanId = path.replace(/[\\[\\]\\.$]/g, '_'); // replace $, ., [ and ] with _\n    const nodeLabel = label === null ? 'root' : String(label);\n    const raw = typeof value === 'object' && value !== null ? JSON.stringify(value) : String(value);\n    const position = {\n      x: depth * 240,\n      y: counter * 90\n    };\n    counter += 1;\n\n    // Add node\n    nodes.push({\n      id: cleanId,\n      position,\n      data: {\n        label: nodeLabel,\n        raw,\n        path,\n        value\n      },\n      style: {\n        boxShadow: 'none'\n      }\n    });\n\n    // Add edge (connect to parent)\n    if (parent) {\n      edges.push({\n        id: `e-${parent}-${cleanId}`,\n        source: parent,\n        target: cleanId\n      });\n    }\n\n    // Recurse for objects/arrays\n    if (value !== null && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        value.forEach((item, idx) => visit(item, `${path}[${idx}]`, depth + 1, `[${idx}]`, cleanId));\n      } else {\n        Object.keys(value).forEach(k => visit(value[k], `${path}.${k}`, depth + 1, k, cleanId));\n      }\n    }\n  }\n  visit(rootObj, '$', 0, null, null);\n  return {\n    nodes,\n    edges\n  };\n}","map":{"version":3,"names":["jsonToFlow","rootObj","nodes","edges","counter","visit","value","path","depth","label","parent","cleanId","replace","nodeLabel","String","raw","JSON","stringify","position","x","y","push","id","data","style","boxShadow","source","target","Array","isArray","forEach","item","idx","Object","keys","k"],"sources":["C:/Users/abhis/OneDrive/Desktop/JSON TREE VISUALIZER/json-tree-visualizer/src/utils/jsonToFlow.js"],"sourcesContent":["export function jsonToFlow(rootObj) {\n  let nodes = [];\n  let edges = [];\n  let counter = 0;\n\n  function visit(value, path = '$', depth = 0, label = null, parent = null) {\n    // Sanitize ID so React Flow can use it safely\n    const cleanId = path.replace(/[\\[\\]\\.$]/g, '_'); // replace $, ., [ and ] with _\n    const nodeLabel = label === null ? 'root' : String(label);\n    const raw =\n      typeof value === 'object' && value !== null\n        ? JSON.stringify(value)\n        : String(value);\n    const position = { x: depth * 240, y: counter * 90 };\n    counter += 1;\n\n    // Add node\n    nodes.push({\n      id: cleanId,\n      position,\n      data: { label: nodeLabel, raw, path, value },\n      style: { boxShadow: 'none' }\n    });\n\n    // Add edge (connect to parent)\n    if (parent) {\n      edges.push({\n        id: `e-${parent}-${cleanId}`,\n        source: parent,\n        target: cleanId\n      });\n    }\n\n    // Recurse for objects/arrays\n    if (value !== null && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        value.forEach((item, idx) =>\n          visit(item, `${path}[${idx}]`, depth + 1, `[${idx}]`, cleanId)\n        );\n      } else {\n        Object.keys(value).forEach((k) =>\n          visit(value[k], `${path}.${k}`, depth + 1, k, cleanId)\n        );\n      }\n    }\n  }\n\n  visit(rootObj, '$', 0, null, null);\n  return { nodes, edges };\n}\n"],"mappings":"AAAA,OAAO,SAASA,UAAUA,CAACC,OAAO,EAAE;EAClC,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIC,OAAO,GAAG,CAAC;EAEf,SAASC,KAAKA,CAACC,KAAK,EAAEC,IAAI,GAAG,GAAG,EAAEC,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,IAAI,EAAEC,MAAM,GAAG,IAAI,EAAE;IACxE;IACA,MAAMC,OAAO,GAAGJ,IAAI,CAACK,OAAO,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC;IACjD,MAAMC,SAAS,GAAGJ,KAAK,KAAK,IAAI,GAAG,MAAM,GAAGK,MAAM,CAACL,KAAK,CAAC;IACzD,MAAMM,GAAG,GACP,OAAOT,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,GACvCU,IAAI,CAACC,SAAS,CAACX,KAAK,CAAC,GACrBQ,MAAM,CAACR,KAAK,CAAC;IACnB,MAAMY,QAAQ,GAAG;MAAEC,CAAC,EAAEX,KAAK,GAAG,GAAG;MAAEY,CAAC,EAAEhB,OAAO,GAAG;IAAG,CAAC;IACpDA,OAAO,IAAI,CAAC;;IAEZ;IACAF,KAAK,CAACmB,IAAI,CAAC;MACTC,EAAE,EAAEX,OAAO;MACXO,QAAQ;MACRK,IAAI,EAAE;QAAEd,KAAK,EAAEI,SAAS;QAAEE,GAAG;QAAER,IAAI;QAAED;MAAM,CAAC;MAC5CkB,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAO;IAC7B,CAAC,CAAC;;IAEF;IACA,IAAIf,MAAM,EAAE;MACVP,KAAK,CAACkB,IAAI,CAAC;QACTC,EAAE,EAAE,KAAKZ,MAAM,IAAIC,OAAO,EAAE;QAC5Be,MAAM,EAAEhB,MAAM;QACdiB,MAAM,EAAEhB;MACV,CAAC,CAAC;IACJ;;IAEA;IACA,IAAIL,KAAK,KAAK,IAAI,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC/C,IAAIsB,KAAK,CAACC,OAAO,CAACvB,KAAK,CAAC,EAAE;QACxBA,KAAK,CAACwB,OAAO,CAAC,CAACC,IAAI,EAAEC,GAAG,KACtB3B,KAAK,CAAC0B,IAAI,EAAE,GAAGxB,IAAI,IAAIyB,GAAG,GAAG,EAAExB,KAAK,GAAG,CAAC,EAAE,IAAIwB,GAAG,GAAG,EAAErB,OAAO,CAC/D,CAAC;MACH,CAAC,MAAM;QACLsB,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC,CAACwB,OAAO,CAAEK,CAAC,IAC3B9B,KAAK,CAACC,KAAK,CAAC6B,CAAC,CAAC,EAAE,GAAG5B,IAAI,IAAI4B,CAAC,EAAE,EAAE3B,KAAK,GAAG,CAAC,EAAE2B,CAAC,EAAExB,OAAO,CACvD,CAAC;MACH;IACF;EACF;EAEAN,KAAK,CAACJ,OAAO,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;EAClC,OAAO;IAAEC,KAAK;IAAEC;EAAM,CAAC;AACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}