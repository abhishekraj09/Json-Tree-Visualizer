{"ast":null,"code":"export function jsonToFlow(rootObj) {\n  const nodes = [];\n  const edges = [];\n  let counter = 0;\n  function sanitizeId(path) {\n    // Make IDs safe for React Flow\n    return path.replace(/[^a-zA-Z0-9_]/g, '_');\n  }\n  function visit(value, path = '$', depth = 0, label = 'root', parentId = null) {\n    const id = sanitizeId(path);\n    const position = {\n      x: depth * 260,\n      y: counter * 100\n    };\n    counter++;\n    nodes.push({\n      id,\n      position,\n      data: {\n        label,\n        raw: typeof value === 'object' && value !== null ? JSON.stringify(value) : String(value),\n        value,\n        path\n      }\n    });\n    if (parentId) {\n      edges.push({\n        id: `e-${parentId}-${id}`,\n        source: parentId,\n        target: id\n      });\n    }\n    if (value && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        value.forEach((item, idx) => visit(item, `${path}[${idx}]`, depth + 1, `[${idx}]`, id));\n      } else {\n        Object.keys(value).forEach(key => visit(value[key], `${path}.${key}`, depth + 1, key, id));\n      }\n    }\n  }\n  visit(rootObj);\n  console.log(\"✅ Nodes:\", nodes);\n  console.log(\"✅ Edges:\", edges);\n  return {\n    nodes,\n    edges\n  };\n}","map":{"version":3,"names":["jsonToFlow","rootObj","nodes","edges","counter","sanitizeId","path","replace","visit","value","depth","label","parentId","id","position","x","y","push","data","raw","JSON","stringify","String","source","target","Array","isArray","forEach","item","idx","Object","keys","key","console","log"],"sources":["C:/Users/abhis/OneDrive/Desktop/JSON TREE VISUALIZER/json-tree-visualizer/src/utils/jsonToFlow.js"],"sourcesContent":["export function jsonToFlow(rootObj) {\n  const nodes = [];\n  const edges = [];\n  let counter = 0;\n\n  function sanitizeId(path) {\n    // Make IDs safe for React Flow\n    return path.replace(/[^a-zA-Z0-9_]/g, '_');\n  }\n\n  function visit(value, path = '$', depth = 0, label = 'root', parentId = null) {\n    const id = sanitizeId(path);\n    const position = { x: depth * 260, y: counter * 100 };\n    counter++;\n\n    nodes.push({\n      id,\n      position,\n      data: {\n        label,\n        raw:\n          typeof value === 'object' && value !== null\n            ? JSON.stringify(value)\n            : String(value),\n        value,\n        path,\n      },\n    });\n\n    if (parentId) {\n      edges.push({\n        id: `e-${parentId}-${id}`,\n        source: parentId,\n        target: id,\n      });\n    }\n\n    if (value && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        value.forEach((item, idx) =>\n          visit(item, `${path}[${idx}]`, depth + 1, `[${idx}]`, id)\n        );\n      } else {\n        Object.keys(value).forEach((key) =>\n          visit(value[key], `${path}.${key}`, depth + 1, key, id)\n        );\n      }\n    }\n  }\n\n  visit(rootObj);\n  console.log(\"✅ Nodes:\", nodes);\n  console.log(\"✅ Edges:\", edges);\n  return { nodes, edges };\n}\n"],"mappings":"AAAA,OAAO,SAASA,UAAUA,CAACC,OAAO,EAAE;EAClC,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,KAAK,GAAG,EAAE;EAChB,IAAIC,OAAO,GAAG,CAAC;EAEf,SAASC,UAAUA,CAACC,IAAI,EAAE;IACxB;IACA,OAAOA,IAAI,CAACC,OAAO,CAAC,gBAAgB,EAAE,GAAG,CAAC;EAC5C;EAEA,SAASC,KAAKA,CAACC,KAAK,EAAEH,IAAI,GAAG,GAAG,EAAEI,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,MAAM,EAAEC,QAAQ,GAAG,IAAI,EAAE;IAC5E,MAAMC,EAAE,GAAGR,UAAU,CAACC,IAAI,CAAC;IAC3B,MAAMQ,QAAQ,GAAG;MAAEC,CAAC,EAAEL,KAAK,GAAG,GAAG;MAAEM,CAAC,EAAEZ,OAAO,GAAG;IAAI,CAAC;IACrDA,OAAO,EAAE;IAETF,KAAK,CAACe,IAAI,CAAC;MACTJ,EAAE;MACFC,QAAQ;MACRI,IAAI,EAAE;QACJP,KAAK;QACLQ,GAAG,EACD,OAAOV,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,GACvCW,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,GACrBa,MAAM,CAACb,KAAK,CAAC;QACnBA,KAAK;QACLH;MACF;IACF,CAAC,CAAC;IAEF,IAAIM,QAAQ,EAAE;MACZT,KAAK,CAACc,IAAI,CAAC;QACTJ,EAAE,EAAE,KAAKD,QAAQ,IAAIC,EAAE,EAAE;QACzBU,MAAM,EAAEX,QAAQ;QAChBY,MAAM,EAAEX;MACV,CAAC,CAAC;IACJ;IAEA,IAAIJ,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MACtC,IAAIgB,KAAK,CAACC,OAAO,CAACjB,KAAK,CAAC,EAAE;QACxBA,KAAK,CAACkB,OAAO,CAAC,CAACC,IAAI,EAAEC,GAAG,KACtBrB,KAAK,CAACoB,IAAI,EAAE,GAAGtB,IAAI,IAAIuB,GAAG,GAAG,EAAEnB,KAAK,GAAG,CAAC,EAAE,IAAImB,GAAG,GAAG,EAAEhB,EAAE,CAC1D,CAAC;MACH,CAAC,MAAM;QACLiB,MAAM,CAACC,IAAI,CAACtB,KAAK,CAAC,CAACkB,OAAO,CAAEK,GAAG,IAC7BxB,KAAK,CAACC,KAAK,CAACuB,GAAG,CAAC,EAAE,GAAG1B,IAAI,IAAI0B,GAAG,EAAE,EAAEtB,KAAK,GAAG,CAAC,EAAEsB,GAAG,EAAEnB,EAAE,CACxD,CAAC;MACH;IACF;EACF;EAEAL,KAAK,CAACP,OAAO,CAAC;EACdgC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEhC,KAAK,CAAC;EAC9B+B,OAAO,CAACC,GAAG,CAAC,UAAU,EAAE/B,KAAK,CAAC;EAC9B,OAAO;IAAED,KAAK;IAAEC;EAAM,CAAC;AACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}